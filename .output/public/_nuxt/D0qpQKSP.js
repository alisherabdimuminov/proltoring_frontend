import{_ as y}from"./DgCD7uKa.js";import{_ as V}from"./BsgV55nK.js";import{_ as w}from"./CVedjtX_.js";import{e as b,p as f,c as A,a as p,b as t,w as n,u as c,v as _,l as g,A as i,o as k,d as r}from"./BQArHuWU.js";import{a as T}from"./QsnRFogE.js";import{u as B}from"./C1I6dpSE.js";import{u as N}from"./DcPKnQrk.js";import"./DEvUGmS0.js";const $={class:"w-96 flex-col"},S=b({__name:"login",setup(q){B({title:"Kirish"});const{login:u}=N(),s=f(""),a=f(""),v=async()=>{let o=await $fetch(T("users/login"),{method:"POST",body:JSON.stringify({username:s.value,password:a.value})});o.status==="success"?(o.data.role==="admin"?(u(o.data),g({name:"admin"})):(u(o.data),g({name:"index"})),i({title:"Ajoyib",description:"Tizimga muvaffaqiyatli kirdingiz."})):o.code==="404"?i({title:"Afsus",description:"Foydalanuvchi topilmadi"}):o.code==="400"?i({title:"Afsus",description:"Parol noto'g'ri, qaytadan urinib ko'ring."}):i({title:"Afsus",description:"Tizim xatoligi. Adminga murojat qiling."})};return(o,e)=>{const d=y,m=V,x=w;return k(),A("div",$,[e[5]||(e[5]=p("p",{class:"text-center text-2xl font-bold"},"Kirish",-1)),t(d,null,{default:n(()=>e[2]||(e[2]=[r("Foydalanuvchi nomi")])),_:1}),t(m,{modelValue:c(s),"onUpdate:modelValue":e[0]||(e[0]=l=>_(s)?s.value=l:null)},null,8,["modelValue"]),t(d,null,{default:n(()=>e[3]||(e[3]=[r("Parol")])),_:1}),t(m,{modelValue:c(a),"onUpdate:modelValue":e[1]||(e[1]=l=>_(a)?a.value=l:null),type:"password"},null,8,["modelValue"]),e[6]||(e[6]=p("br",null,null,-1)),t(x,{onClick:v,class:"w-full"},{default:n(()=>e[4]||(e[4]=[r("Kirish")])),_:1})])}}});export{S as default};

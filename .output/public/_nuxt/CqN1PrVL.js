import{r as h,p as S,a3 as J,y as O,a4 as $}from"./C-j2z-wG.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=n=>typeof n<"u";function F(n){return JSON.parse(JSON.stringify(n))}function T(n,i,x,y={}){var u,f,c;const{clone:a=!1,passive:N=!1,eventName:V,deep:d=!1,defaultValue:_,shouldEmit:m}=y,t=$(),p=x||(t==null?void 0:t.emit)||((u=t==null?void 0:t.$emit)==null?void 0:u.bind(t))||((c=(f=t==null?void 0:t.proxy)==null?void 0:f.$emit)==null?void 0:c.bind(t==null?void 0:t.proxy));let o=V;o=o||`update:${i.toString()}`;const g=e=>a?typeof a=="function"?a(e):F(e):e,v=()=>E(n[i])?g(n[i]):_,b=e=>{m?m(e)&&p(o,e):p(o,e)};if(N){const e=v(),r=h(e);let l=!1;return S(()=>n[i],s=>{l||(l=!0,r.value=g(s),J(()=>l=!1))}),S(r,s=>{!l&&(s!==n[i]||d)&&b(s)},{deep:d}),r}else return O({get(){return v()},set(e){b(e)}})}export{T as u};

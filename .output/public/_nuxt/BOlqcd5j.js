import{_ as v}from"./BTHCqvCV.js";import{_ as V}from"./eR6xuCZz.js";import{_ as w}from"./CcJb1kBu.js";import{e as b,r as f,c as A,a as p,b as t,w as l,h as c,q as _,n as g,m as i,o as k,d as r}from"./C-j2z-wG.js";import{a as T}from"./QsnRFogE.js";import{u as q}from"./BxKidUIK.js";import{u as B}from"./BSwMdpzS.js";import"./CqN1PrVL.js";const N={class:"w-96 flex-col"},S=b({__name:"login",setup($){q({title:"Kirish"});const{login:u}=B(),s=f(""),a=f(""),x=async()=>{let o=await $fetch(T("users/login"),{method:"POST",body:JSON.stringify({username:s.value,password:a.value})});o.status==="success"?(o.data.role==="admin"?(u(o.data),g({name:"admin"})):(u(o.data),g({name:"index"})),i({title:"Ajoyib",description:"Tizimga muvaffaqiyatli kirdingiz."})):o.code==="404"?i({title:"Afsus",description:"Foydalanuvchi topilmadi"}):o.code==="400"?i({title:"Afsus",description:"Parol noto'g'ri, qaytadan urinib ko'ring."}):i({title:"Afsus",description:"Tizim xatoligi. Adminga murojat qiling."})};return(o,e)=>{const m=v,d=V,y=w;return k(),A("div",N,[e[5]||(e[5]=p("p",{class:"text-center text-2xl font-bold"},"Kirish",-1)),t(m,null,{default:l(()=>e[2]||(e[2]=[r("Foydalanuvchi nomi")])),_:1}),t(d,{modelValue:c(s),"onUpdate:modelValue":e[0]||(e[0]=n=>_(s)?s.value=n:null)},null,8,["modelValue"]),t(m,null,{default:l(()=>e[3]||(e[3]=[r("Parol")])),_:1}),t(d,{modelValue:c(a),"onUpdate:modelValue":e[1]||(e[1]=n=>_(a)?a.value=n:null),type:"password"},null,8,["modelValue"]),e[6]||(e[6]=p("br",null,null,-1)),t(y,{onClick:x,class:"w-full"},{default:l(()=>e[4]||(e[4]=[r("Kirish")])),_:1})])}}});export{S as default};

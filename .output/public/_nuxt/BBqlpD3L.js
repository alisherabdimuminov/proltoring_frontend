import{_ as h}from"./CcJb1kBu.js";import{_ as j,a as L,b as R,c as A,d as J,e as X}from"./C70hdgR8.js";import{_ as E}from"./BTHCqvCV.js";import{_ as Q}from"./eR6xuCZz.js";import{_ as Y,a as G,b as K,c as W,d as Z,e as ll}from"./BGU_8_di.js";import{a as F}from"./CpYXhFkT.js";import{a as y}from"./QsnRFogE.js";import{e as el,x as al,r as g,f as nl,c as B,a as s,b as e,w as a,h as d,q as tl,n as ol,o as w,d as t,F as sl,k as dl,i as il,t as V}from"./C-j2z-wG.js";import{u as ul}from"./BxKidUIK.js";import{c as D}from"./Co-4_5rh.js";import"./CqN1PrVL.js";/**
 * @license lucide-vue-next v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=D("ShuffleIcon",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-vue-next v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=D("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),rl={class:"p-5 md:p-10 flex flex-col gap-5"},_l={class:"flex items-center justify-between"},pl={class:"flex gap-2"},vl={class:"flex gap-3 flex-col md:flex-row"},Vl={class:"w-full"},bl={class:"w-full"},yl={class:"w-full"},cl={class:"relative"},gl={class:"absolute top-0 right-0"},wl={class:"border rounded-md overflow-x-auto"},Tl={class:"flex gap-3 flex-col md:flex-row"},kl={class:"w-full"},$l={class:"w-full"},Ul={class:"w-full"},Nl=el({__name:"users",setup(xl){ul({title:"Talabalar"});const{toast:b}=al(),o=g({id:"0",uuid:"",username:"",first_name:"",last_name:"",middle_name:"",role:"student",pwd:F(),token:""}),T=g(),v=g(!1);nl(async()=>{c()});const c=async()=>{let i=await $fetch(y("users"));T.value=i},I=async()=>{o.value&&((await $fetch(y("users/add"),{method:"POST",body:JSON.stringify({username:o.value.username,first_name:o.value.first_name,last_name:o.value.last_name,middle_name:o.value.middle_name,password:o.value.pwd,role:o.value.role})})).status==="success"?(b({title:"Ajoyib",description:"Talaba qo'shildi"}),c()):b({title:"Xatolik",description:"Barcha maydonni toldiring."})),v.value=!1},M=async i=>{(await $fetch(y(`users/${i.uuid}/edit`),{method:"POST",body:JSON.stringify({first_name:i.first_name,last_name:i.last_name,middle_name:i.middle_name,password:i.pwd,role:i.role})})).status==="success"?(b({title:"Ajoyib",description:"Talaba tahrirlandi"}),c()):b({title:"Xatolik",description:"Barcha maydonni toldiring."}),v.value=!1},q=async()=>{let i=y("users/pdf");ol(i,{external:!0,open:{target:"_blank"}})};return(i,l)=>{const r=h,k=L,$=R,U=A,u=E,m=Q,x=J,S=X,C=j,_=G,H=K,p=W,P=Z,z=ll,N=Y;return w(),B("div",rl,[s("div",_l,[l[16]||(l[16]=s("p",null,"Talabalar",-1)),s("div",pl,[e(C,{open:d(v),"onUpdate:open":l[6]||(l[6]=n=>tl(v)?v.value=n:null)},{default:a(()=>[e(k,null,{default:a(()=>[e(r,null,{default:a(()=>l[7]||(l[7]=[t("Talaba qo'shish")])),_:1})]),_:1}),e(S,null,{default:a(()=>[e(U,null,{default:a(()=>[e($,null,{default:a(()=>l[8]||(l[8]=[t("Yangi Talaba qo'shish")])),_:1})]),_:1}),s("div",null,[e(u,null,{default:a(()=>l[9]||(l[9]=[t("Foydalanuvchi nomi")])),_:1}),e(m,{modelValue:d(o).username,"onUpdate:modelValue":l[0]||(l[0]=n=>d(o).username=n)},null,8,["modelValue"]),s("div",vl,[s("div",Vl,[e(u,null,{default:a(()=>l[10]||(l[10]=[t("Ism ")])),_:1}),e(m,{modelValue:d(o).first_name,"onUpdate:modelValue":l[1]||(l[1]=n=>d(o).first_name=n)},null,8,["modelValue"])]),s("div",bl,[e(u,null,{default:a(()=>l[11]||(l[11]=[t("Familiya ")])),_:1}),e(m,{modelValue:d(o).last_name,"onUpdate:modelValue":l[2]||(l[2]=n=>d(o).last_name=n)},null,8,["modelValue"])]),s("div",yl,[e(u,null,{default:a(()=>l[12]||(l[12]=[t("Sharifi ")])),_:1}),e(m,{modelValue:d(o).middle_name,"onUpdate:modelValue":l[3]||(l[3]=n=>d(o).middle_name=n)},null,8,["modelValue"])])]),e(u,null,{default:a(()=>l[13]||(l[13]=[t("Parol ")])),_:1}),s("div",cl,[e(m,{modelValue:d(o).pwd,"onUpdate:modelValue":l[4]||(l[4]=n=>d(o).pwd=n)},null,8,["modelValue"]),s("div",gl,[e(r,{onClick:l[5]||(l[5]=n=>d(o).pwd=("autogen"in i?i.autogen:d(F))()),size:"xs"},{default:a(()=>[e(d(ml),{size:16})]),_:1})])])]),e(x,null,{default:a(()=>[e(r,{onClick:I},{default:a(()=>l[14]||(l[14]=[t("Qo'shish")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(r,{onClick:q},{default:a(()=>l[15]||(l[15]=[t("Foydalanuvchilarni yuklab olish")])),_:1})])]),s("div",wl,[e(N,{class:"whitespace-nowrap"},{default:a(()=>[e(H,{class:"border-b"},{default:a(()=>[e(_,null,{default:a(()=>l[17]||(l[17]=[t("#")])),_:1}),e(_,null,{default:a(()=>l[18]||(l[18]=[t("Foydalanuvchi nomi")])),_:1}),e(_,null,{default:a(()=>l[19]||(l[19]=[t("Familiyasi")])),_:1}),e(_,null,{default:a(()=>l[20]||(l[20]=[t("Ismi")])),_:1}),e(_,null,{default:a(()=>l[21]||(l[21]=[t("Sharifi")])),_:1}),e(_,null,{default:a(()=>l[22]||(l[22]=[t("Tahrirlash")])),_:1})]),_:1}),e(z,null,{default:a(()=>[(w(!0),B(sl,null,dl(d(T),(n,O)=>(w(),il(P,null,{default:a(()=>[e(p,{class:"border-r"},{default:a(()=>[t(V(O+1),1)]),_:2},1024),e(p,null,{default:a(()=>[t(V(n.username),1)]),_:2},1024),e(p,null,{default:a(()=>[t(V(n.last_name),1)]),_:2},1024),e(p,null,{default:a(()=>[t(V(n.first_name),1)]),_:2},1024),e(p,null,{default:a(()=>[t(V(n.middle_name),1)]),_:2},1024),e(p,null,{default:a(()=>[e(C,null,{default:a(()=>[e(k,null,{default:a(()=>[e(r,{size:"icon"},{default:a(()=>[e(d(fl),{size:16})]),_:1})]),_:1}),e(S,null,{default:a(()=>[e(U,null,{default:a(()=>[e($,null,{default:a(()=>l[23]||(l[23]=[t("Talabani tahrirlash")])),_:1})]),_:1}),s("div",null,[s("div",null,[s("div",Tl,[s("div",kl,[e(u,null,{default:a(()=>l[24]||(l[24]=[t("Ism ")])),_:1}),e(m,{modelValue:n.first_name,"onUpdate:modelValue":f=>n.first_name=f},null,8,["modelValue","onUpdate:modelValue"])]),s("div",$l,[e(u,null,{default:a(()=>l[25]||(l[25]=[t("Familiya ")])),_:1}),e(m,{modelValue:n.last_name,"onUpdate:modelValue":f=>n.last_name=f},null,8,["modelValue","onUpdate:modelValue"])]),s("div",Ul,[e(u,null,{default:a(()=>l[26]||(l[26]=[t("Sharifi ")])),_:1}),e(m,{modelValue:n.middle_name,"onUpdate:modelValue":f=>n.middle_name=f},null,8,["modelValue","onUpdate:modelValue"])])]),e(u,null,{default:a(()=>l[27]||(l[27]=[t("Parol ")])),_:1}),e(m,{modelValue:n.pwd,"onUpdate:modelValue":f=>n.pwd=f},null,8,["modelValue","onUpdate:modelValue"])])]),e(x,null,{default:a(()=>[e(r,{onClick:f=>M(n)},{default:a(()=>l[28]||(l[28]=[t("Tahrirlash")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])])}}});export{Nl as default};

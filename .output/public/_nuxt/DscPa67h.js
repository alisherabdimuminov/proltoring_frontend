import{_ as Z}from"./CcJb1kBu.js";import{_ as h,a as ee,b as te,c as le,d as se,e as ne}from"./C70hdgR8.js";import{_ as ae}from"./BTHCqvCV.js";import{_ as oe}from"./eR6xuCZz.js";import{a as ue,b as de,c as re,d as ie,_ as _e}from"./Cm8UviMn.js";import{_ as me,a as fe,b as pe,c as be,d as ge,e as ce}from"./BGU_8_di.js";import{e as ve,x as $e,r as m,f as Te,c as f,a as g,b as t,w as l,h as u,q as ye,n as xe,o as _,d as s,F as V,k,i as w,t as o,j as c}from"./C-j2z-wG.js";import{a as v}from"./QsnRFogE.js";import{u as Ve}from"./BxKidUIK.js";import{a as ke}from"./CpYXhFkT.js";import"./CqN1PrVL.js";import"./DRQFYbr5.js";const we=window.setInterval,Se={class:"p-5 md:p-10 flex flex-col gap-5"},qe={class:"flex justify-between"},Ce={class:"flex gap-2"},Ne={class:"overflow-x-auto border rounded-md"},Oe={key:0,class:"font-bold text-blue-500 border p-1 rounded-md bg-blue-500/10"},Be={key:1,class:"font-bold text-sky-500 border p-1 rounded-md bg-sky-500/10"},De={key:2,class:"font-bold text-green-500 border p-1 rounded-md bg-green-500/10"},Ue={key:3,class:"font-bold text-red-500 border p-1 rounded-md bg-red-500/10"},je={key:4,class:"font-bold text-orange-500 border p-1 rounded-md bg-orange-500/10"},ze=ve({__name:"tests",setup(He){Ve({title:"Testlar"});const{toast:S}=$e(),H=m({id:"1",name:""}),q=m();m(""),m("");const $=m(!1),M=m({id:"0",uuid:"",username:"",first_name:"",last_name:"",middle_name:"",role:"student",pwd:ke(),token:""}),a=m({uuid:"",name:"",user:M.value,set:H.value,passed_score:70,questions_count:120,percentage:0,status:"not_started",elapsed:0,left:0,right:0,no_person:0,two_person:0}),C=m(),N=m();Te(()=>{T(),I(),R(),we(()=>{T()},5e3)});const F=d=>{let e=Math.floor(d/3600),p=Math.floor(d%3600/60),y=Math.floor(d%3600%60);return`${e}`.padStart(2,"0")+":"+`${p}`.padStart(2,"0")+":"+`${y}`.padStart(2,"0")},T=async()=>{let d=await $fetch(v("tests"));C.value=d},I=async()=>{let d=await $fetch(v("users"));N.value=d},R=async()=>{let d=await $fetch(v("sets"));q.value=d},L=async()=>{(await $fetch(v("tests/add"),{method:"POST",body:JSON.stringify({name:a.value.name,user:a.value.user.id,set:a.value.set.id,passed_score:a.value.passed_score,questions_count:a.value.questions_count})})).status==="success"?(S({title:"Ajoyib",description:"Test qo'shildi"}),T()):S({title:"Xatolik",description:"Xatolik"}),$.value=!1},P=async()=>{let d=v("tests/pdf");xe(d,{external:!0,open:{target:"_blank"}})};return(d,e)=>{const p=Z,y=ee,X=te,Y=le,b=ae,x=oe,O=ue,B=de,D=re,U=ie,j=_e,A=se,E=ne,J=h,r=fe,Q=pe,i=be,z=ge,G=ce,K=me;return _(),f("div",Se,[g("div",qe,[e[15]||(e[15]=g("p",null,"Testlar",-1)),g("div",Ce,[t(J,{open:u($),"onUpdate:open":e[5]||(e[5]=n=>ye($)?$.value=n:null)},{default:l(()=>[t(y,null,{default:l(()=>[t(p,null,{default:l(()=>e[6]||(e[6]=[s("Test qo'shish")])),_:1})]),_:1}),t(E,null,{default:l(()=>[t(Y,null,{default:l(()=>[t(X,null,{default:l(()=>e[7]||(e[7]=[s("Yangi test qo'shish")])),_:1})]),_:1}),g("div",null,[t(b,null,{default:l(()=>e[8]||(e[8]=[s("Nomi")])),_:1}),t(x,{modelValue:u(a).name,"onUpdate:modelValue":e[0]||(e[0]=n=>u(a).name=n)},null,8,["modelValue"]),t(b,null,{default:l(()=>e[9]||(e[9]=[s("Talaba")])),_:1}),t(j,{modelValue:u(a).user.id,"onUpdate:modelValue":e[1]||(e[1]=n=>u(a).user.id=n)},{default:l(()=>[t(B,null,{default:l(()=>[t(O)]),_:1}),t(U,null,{default:l(()=>[(_(!0),f(V,null,k(u(N),n=>(_(),w(D,{value:n.id},{default:l(()=>[s(o(n.first_name)+" "+o(n.last_name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"]),t(b,null,{default:l(()=>e[10]||(e[10]=[s("To'plam")])),_:1}),t(j,{modelValue:u(a).set.id,"onUpdate:modelValue":e[2]||(e[2]=n=>u(a).set.id=n)},{default:l(()=>[t(B,null,{default:l(()=>[t(O)]),_:1}),t(U,null,{default:l(()=>[(_(!0),f(V,null,k(u(q),n=>(_(),w(D,{value:n.id},{default:l(()=>[s(o(n.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"]),t(b,null,{default:l(()=>e[11]||(e[11]=[s("Savollar soni")])),_:1}),t(x,{type:"number",modelValue:u(a).questions_count,"onUpdate:modelValue":e[3]||(e[3]=n=>u(a).questions_count=n)},null,8,["modelValue"]),t(b,null,{default:l(()=>e[12]||(e[12]=[s("O'tish bali")])),_:1}),t(x,{type:"number",modelValue:u(a).passed_score,"onUpdate:modelValue":e[4]||(e[4]=n=>u(a).passed_score=n)},null,8,["modelValue"])]),t(A,null,{default:l(()=>[t(p,{onClick:L},{default:l(()=>e[13]||(e[13]=[s("Qo'shish")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(p,{onClick:P},{default:l(()=>e[14]||(e[14]=[s("PDF Natijalar")])),_:1})])]),g("div",Ne,[t(K,{class:"whitespace-nowrap"},{default:l(()=>[t(Q,{class:"border-b"},{default:l(()=>[t(r,null,{default:l(()=>e[16]||(e[16]=[s("#")])),_:1}),t(r,null,{default:l(()=>e[17]||(e[17]=[s("Nomi")])),_:1}),t(r,null,{default:l(()=>e[18]||(e[18]=[s("Familiyasi")])),_:1}),t(r,null,{default:l(()=>e[19]||(e[19]=[s("Ismi")])),_:1}),t(r,null,{default:l(()=>e[20]||(e[20]=[s("To'plam")])),_:1}),t(r,null,{default:l(()=>e[21]||(e[21]=[s("O'tish bali")])),_:1}),t(r,null,{default:l(()=>e[22]||(e[22]=[s("Holati")])),_:1}),t(r,null,{default:l(()=>e[23]||(e[23]=[s("Natija")])),_:1}),t(r,null,{default:l(()=>e[24]||(e[24]=[s("Sarflangan vaqt")])),_:1}),t(r,{class:"border-l"},{default:l(()=>e[25]||(e[25]=[s("Chap")])),_:1}),t(r,null,{default:l(()=>e[26]||(e[26]=[s("O'ng")])),_:1}),t(r,null,{default:l(()=>e[27]||(e[27]=[s("Odam yuq")])),_:1}),t(r,null,{default:l(()=>e[28]||(e[28]=[s("Odam kup")])),_:1})]),_:1}),t(G,null,{default:l(()=>[(_(!0),f(V,null,k(u(C),(n,W)=>(_(),w(z,null,{default:l(()=>[t(i,{class:"border-r"},{default:l(()=>[s(o(W+1),1)]),_:2},1024),t(i,null,{default:l(()=>[s(o(n.name),1)]),_:2},1024),t(i,null,{default:l(()=>[s(o(n.user.last_name),1)]),_:2},1024),t(i,null,{default:l(()=>[s(o(n.user.first_name),1)]),_:2},1024),t(i,null,{default:l(()=>[s(o(n.set.name),1)]),_:2},1024),t(i,null,{default:l(()=>[s(o(n.passed_score),1)]),_:2},1024),t(i,null,{default:l(()=>[n.status==="not_started"?(_(),f("span",Oe,"Boshlanmagan")):c("",!0),n.status==="started"?(_(),f("span",Be,"Boshlangan")):c("",!0),n.status==="passed"?(_(),f("span",De,"O'tgan")):c("",!0),n.status==="failed"?(_(),f("span",Ue,"Yiqilgan")):c("",!0),n.status==="ended"?(_(),f("span",je,"Tugagan")):c("",!0)]),_:2},1024),t(i,null,{default:l(()=>[s(o(n.percentage),1)]),_:2},1024),t(i,null,{default:l(()=>[s(o(F(n.elapsed)),1)]),_:2},1024),t(i,{class:"border-l text-center"},{default:l(()=>[s(o(n.left),1)]),_:2},1024),t(i,{class:"text-center"},{default:l(()=>[s(o(n.right),1)]),_:2},1024),t(i,{class:"text-center"},{default:l(()=>[s(o(n.no_person),1)]),_:2},1024),t(i,{class:"text-center"},{default:l(()=>[s(o(n.two_person),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])])}}});export{ze as default};
